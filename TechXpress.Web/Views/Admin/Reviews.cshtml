@model IEnumerable<TechXpress.Data.Entities.Review>
@{
    ViewData["Title"] = "Manage Reviews";
}
<link rel="stylesheet" href="https://cdn.datatables.net/1.13.4/css/dataTables.bootstrap5.min.css" />
<div class="container py-4">
    <h2 class="mb-4">Manage Reviews</h2>
    <div class="table-responsive">
        <table id="adminReviewsTable" class="table table-striped table-bordered align-middle">
            <thead class="table-light">
                <tr>
                    <th>Product</th>
                    <th>User</th>
                    <th>Rating</th>
                    <th>Comment</th>
                    <th>Date</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
            @foreach (var review in Model)
            {
                <tr>
                    <td>
                        <a href="/Admin/EditProduct/@review.ProductId" class="text-decoration-none fw-semibold">
                            <i class="fa fa-box text-secondary me-1"></i> @review.Product?.Name
                        </a>
                    </td>
                    <td><span class="badge bg-info text-dark">@review.User?.FullName</span></td>
                    <td>
                        <span class="badge bg-warning text-dark"><i class="fa fa-star"></i> @review.Rating</span>
                    </td>
                    <td>@review.Comment</td>
                    <td>@review.Date.ToShortDateString()</td>
                    <td>
                        <form asp-action="DeleteReview" method="post" style="display:inline">
                            <input type="hidden" name="id" value="@review.Id" />
                            <button type="submit" class="btn btn-gradient-danger btn-sm" onclick="return confirm('Delete this review?');">
                                <i class="fa fa-trash"></i> Delete
                            </button>
                        </form>
                    </td>
                </tr>
            }
            </tbody>
        </table>
    </div>
</div>
<style>
.btn-gradient-danger {
    background: linear-gradient(90deg, #dc3545 0%, #b52a37 100%);
    color: #fff;
    border: none;
    transition: background 0.2s;
}
.btn-gradient-danger:hover {
    background: linear-gradient(90deg, #b52a37 0%, #dc3545 100%);
    color: #ffd700;
}
</style>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.13.4/js/dataTables.bootstrap5.min.js"></script>
<script>
    $(function () {
        $('#adminReviewsTable').DataTable();
    });
</script> 